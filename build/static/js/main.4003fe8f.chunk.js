(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,,function(e,t,a){e.exports=a.p+"static/media/logo__header.e8cbac90.svg"},,,,,,,,,,,,function(e,t,a){e.exports=a.p+"static/media/about-me__foto.1b773cc2.jpg"},,function(e,t,a){e.exports=a.p+"static/media/search-icon.5852339e.svg"},function(e,t,a){e.exports=a(61)},,,,,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(20),o=a.n(c),l=a(1),s=(a(33),a(2)),i=a(4),m=(a(34),r.a.createContext());a(35),a(36);var u=function(){return r.a.createElement("article",{className:"promo"},r.a.createElement("div",{className:"promo__text"},"\u0423\u0447\u0435\u0431\u043d\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442 \u0441\u0442\u0443\u0434\u0435\u043d\u0442\u0430 \u0444\u0430\u043a\u0443\u043b\u044c\u0442\u0435\u0442\u0430 \u0412\u0435\u0431-\u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438."))};a(37);var _=function(){return r.a.createElement("nav",{className:"navtab"},r.a.createElement("ul",{className:"navtab__container"},r.a.createElement("li",{className:"navtab__link"},r.a.createElement("a",{className:"navtab__link-element",href:"#about-project"},"\u041e \u043f\u0440\u043e\u0435\u043a\u0442\u0435")),r.a.createElement("li",{className:"navtab__link"},r.a.createElement("a",{className:"navtab__link-element",href:"#techs"},"\u0422\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0438")),r.a.createElement("li",{className:"navtab__link"},r.a.createElement("a",{className:"navtab__link-element",href:"#about-me"},"\u0421\u0442\u0443\u0434\u0435\u043d\u0442"))))};a(38);var d=function(){return r.a.createElement("section",{className:"about-project",id:"about-project"},r.a.createElement("h2",{className:"about-project__title main-title"},"\u041e \u043f\u0440\u043e\u0435\u043a\u0442\u0435"),r.a.createElement("div",{className:"about-project__container"},r.a.createElement("div",{className:"about-project__discription"},r.a.createElement("h3",{className:"about-project__subtitle"},"\u0414\u0438\u043f\u043b\u043e\u043c\u043d\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442 \u0432\u043a\u043b\u044e\u0447\u0430\u043b 5 \u044d\u0442\u0430\u043f\u043e\u0432"),r.a.createElement("p",{className:"about-project__text"},"\u0421\u043e\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u043b\u0430\u043d\u0430, \u0440\u0430\u0431\u043e\u0442\u0443 \u043d\u0430\u0434 \u0431\u044d\u043a\u0435\u043d\u0434\u043e\u043c, \u0432\u0451\u0440\u0441\u0442\u043a\u0443, \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0444\u0443\u043d\u043a\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u0438 \u0438 \u0444\u0438\u043d\u0430\u043b\u044c\u043d\u044b\u0435 \u0434\u043e\u0440\u0430\u0431\u043e\u0442\u043a\u0438.")),r.a.createElement("div",{className:"about-project__discription"},r.a.createElement("h3",{className:"about-project__subtitle"},"\u041d\u0430 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435 \u0434\u0438\u043f\u043b\u043e\u043c\u0430 \u0443\u0448\u043b\u043e 5 \u043d\u0435\u0434\u0435\u043b\u044c"),r.a.createElement("p",{className:"about-project__text"},"\u0423 \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u044d\u0442\u0430\u043f\u0430 \u0431\u044b\u043b \u043c\u044f\u0433\u043a\u0438\u0439 \u0438 \u0436\u0451\u0441\u0442\u043a\u0438\u0439 \u0434\u0435\u0434\u043b\u0430\u0439\u043d, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043d\u0443\u0436\u043d\u043e \u0431\u044b\u043b\u043e \u0441\u043e\u0431\u043b\u044e\u0434\u0430\u0442\u044c, \u0447\u0442\u043e\u0431\u044b \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u0449\u0438\u0442\u0438\u0442\u044c\u0441\u044f."))),r.a.createElement("div",{className:"about-project__time"},r.a.createElement("div",{className:"about-project__time-backend"},r.a.createElement("p",{className:"about-project__period about-project__period_backend"},"1 \u043d\u0435\u0434\u0435\u043b\u044f"),r.a.createElement("p",{className:"about-project__period-discription"},"Back-end")),r.a.createElement("div",{className:"about-project__time-frontend"},r.a.createElement("p",{className:"about-project__period about-project__period_frontend"},"4 \u043d\u0435\u0434\u0435\u043b\u0438"),r.a.createElement("p",{className:"about-project__period-discription"},"Front-end"))))};a(39);var f=function(){return r.a.createElement("section",{className:"techs",id:"techs"},r.a.createElement("h2",{className:"techs__title main-title"},"\u0422\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0438"),r.a.createElement("div",{className:"techs__container"},r.a.createElement("h3",{className:"techs__subtitle"},"7 \u0442\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0439"),r.a.createElement("p",{className:"techs__text"},"\u041d\u0430 \u043a\u0443\u0440\u0441\u0435 \u0432\u0435\u0431-\u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u043c\u044b \u043e\u0441\u0432\u043e\u0438\u043b\u0438 \u0442\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0438, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043f\u0440\u0438\u043c\u0435\u043d\u0438\u043b\u0438 \u0432 \u0434\u0438\u043f\u043b\u043e\u043c\u043d\u043e\u043c \u043f\u0440\u043e\u0435\u043a\u0442\u0435."),r.a.createElement("ul",{className:"techs__blocks"},r.a.createElement("li",{className:"techs__blocks-element"},"HTML"),r.a.createElement("li",{className:"techs__blocks-element"},"CSS"),r.a.createElement("li",{className:"techs__blocks-element"},"JS"),r.a.createElement("li",{className:"techs__blocks-element"},"React"),r.a.createElement("li",{className:"techs__blocks-element"},"Git"),r.a.createElement("li",{className:"techs__blocks-element"},"Express.js"),r.a.createElement("li",{className:"techs__blocks-element"},"mongoDB"))))},h=(a(40),a(21)),v=a.n(h);var p=function(){return r.a.createElement("section",{className:"about-me",id:"about-me"},r.a.createElement("h2",{className:"about-me__title main-title"},"\u0421\u0442\u0443\u0434\u0435\u043d\u0442"),r.a.createElement("div",{className:"about-me__container"},r.a.createElement("div",{className:"about-me__info"},r.a.createElement("h3",{className:"about-me__student-name"},"\u0410\u043b\u0435\u043a\u0441\u0430\u043d\u0434\u0440 \u0425\u043e\u0445\u043b\u043e\u0432"),r.a.createElement("h4",{className:"about-me__subtitle"},"\u0424\u0440\u043e\u043d\u0442\u0435\u043d\u0434-\u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a, 31 \u0433\u043e\u0434"),r.a.createElement("p",{className:"about-me__text"},"\u042f \u0440\u043e\u0434\u0438\u043b\u0441\u044f \u0438 \u0436\u0438\u0432\u0443 \u0432 \u0421\u0430\u0440\u0430\u0442\u043e\u0432\u0435, \u0437\u0430\u043a\u043e\u043d\u0447\u0438\u043b \u0444\u0430\u043a\u0443\u043b\u044c\u0442\u0435\u0442 \u044d\u043a\u043e\u043d\u043e\u043c\u0438\u043a\u0438 \u0421\u0413\u0423. \u0423 \u043c\u0435\u043d\u044f \u0435\u0441\u0442\u044c \u0436\u0435\u043d\u0430 \u0438 \u0434\u043e\u0447\u044c. \u042f \u043b\u044e\u0431\u043b\u044e \u0441\u043b\u0443\u0448\u0430\u0442\u044c \u043c\u0443\u0437\u044b\u043a\u0443, \u0430 \u0435\u0449\u0451 \u0443\u0432\u043b\u0435\u043a\u0430\u044e\u0441\u044c \u0431\u0435\u0433\u043e\u043c. \u041d\u0435\u0434\u0430\u0432\u043d\u043e \u043d\u0430\u0447\u0430\u043b \u043a\u043e\u0434\u0438\u0442\u044c. \u0421 2015 \u0433\u043e\u0434\u0430 \u0440\u0430\u0431\u043e\u0442\u0430\u043b \u0432 \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438 \xab\u0421\u041a\u0411 \u041a\u043e\u043d\u0442\u0443\u0440\xbb. \u041f\u043e\u0441\u043b\u0435 \u0442\u043e\u0433\u043e, \u043a\u0430\u043a \u043f\u0440\u043e\u0448\u0451\u043b \u043a\u0443\u0440\u0441 \u043f\u043e \u0432\u0435\u0431-\u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0435, \u043d\u0430\u0447\u0430\u043b \u0437\u0430\u043d\u0438\u043c\u0430\u0442\u044c\u0441\u044f \u0444\u0440\u0438\u043b\u0430\u043d\u0441-\u0437\u0430\u043a\u0430\u0437\u0430\u043c\u0438 \u0438 \u0443\u0448\u0451\u043b \u0441 \u043f\u043e\u0441\u0442\u043e\u044f\u043d\u043d\u043e\u0439 \u0440\u0430\u0431\u043e\u0442\u044b."),r.a.createElement("a",{className:"about-me__github",href:"https://github.com/Aleksandr-Hohlov",target:"_blank",rel:"noopener noreferrer"},"Github")),r.a.createElement("img",{className:"about-me__foto",alt:"\u0424\u043e\u0442\u043e \u043f\u0440\u043e\u0444\u0438\u043b\u044f",src:v.a})))};a(41);var g=function(){return r.a.createElement("section",{className:"portfolio"},r.a.createElement("h2",{className:"portfolio__title"},"\u041f\u043e\u0440\u0442\u0444\u043e\u043b\u0438\u043e"),r.a.createElement("ul",{className:"portfolio__list"},r.a.createElement("li",{className:"portfolio__element"},r.a.createElement("a",{className:"portfolio__element-link",href:"https://aleksandr-hohlov.github.io/first-project",target:"_blank",rel:"noopener noreferrer"},"\u0421\u0442\u0430\u0442\u0438\u0447\u043d\u044b\u0439 \u0441\u0430\u0439\u0442")),r.a.createElement("li",{className:"portfolio__element"},r.a.createElement("a",{className:"portfolio__element-link",href:"https://aleksandr-hohlov.github.io/russian-travel/index.html",target:"_blank",rel:"noopener noreferrer"},"\u0410\u0434\u0430\u043f\u0442\u0438\u0432\u043d\u044b\u0439 \u0441\u0430\u0439\u0442")),r.a.createElement("li",{className:"portfolio__element"},r.a.createElement("a",{className:"portfolio__element-link",href:"https://aleksandr-hohlov.github.io/mesto/",target:"_blank",rel:"noopener noreferrer"},"\u041e\u0434\u043d\u043e\u0441\u0442\u0440\u0430\u043d\u0438\u0447\u043d\u043e\u0435 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435"))))},E=a(9),b=a.n(E);a(42);var N=function(){return r.a.createElement("header",{className:"header-main"},r.a.createElement("div",{className:"header-main__container"},r.a.createElement(l.b,{className:"header-main__link",to:"/movies"},r.a.createElement("img",{className:"header-main__logo",src:b.a,alt:"\u041b\u043e\u0433\u043e"})),r.a.createElement("div",{className:"header-main__auth"},r.a.createElement(l.b,{className:"header-main__registry",to:"/signup"},"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"),r.a.createElement(l.b,{className:"header-main__login",to:"/signin"},"\u0412\u043e\u0439\u0442\u0438"))))};a(47);var j=function(){return r.a.createElement("footer",{className:"footer footer_main"},r.a.createElement("h3",{className:"footer__title"},"\u0423\u0447\u0435\u0431\u043d\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442 \u042f\u043d\u0434\u0435\u043a\u0441.\u041f\u0440\u0430\u043a\u0442\u0438\u043a\u0443\u043c \u0445 BeatFilm."),r.a.createElement("div",{className:"footer__container"},r.a.createElement("p",{className:"footer__copyright"},"\xa9 2023"),r.a.createElement("nav",{className:"footer__links"},r.a.createElement("a",{className:"footer__link-element",href:"https://practicum.yandex.ru/"},"\u042f\u043d\u0434\u0435\u043a\u0441.\u041f\u0440\u0430\u043a\u0442\u0438\u043a\u0443\u043c"),r.a.createElement("a",{className:"footer__link-element",href:"https://github.com/Aleksandr-Hohlov"},"Github"))))};var S=function(){return r.a.createElement("div",{className:"main"},r.a.createElement(N,null),r.a.createElement("main",{className:"main__content"},r.a.createElement(u,null),r.a.createElement(_,null),r.a.createElement("div",{className:"main__project"},r.a.createElement(d,null),r.a.createElement(f,null),r.a.createElement(p,null),r.a.createElement(g,null))),r.a.createElement(j,null))},k=a(3),O=(a(48),a(49),a(50),function(e){var t=e.isActive;return"popup-menu__navlink".concat(t?"popup-menu__navlink_active":"")});function I(){document.getElementById("mySidenav").classList.add("popup-menu__container_opened")}function y(){document.getElementById("mySidenav").classList.remove("popup-menu__container_opened")}var w=function(){return r.a.createElement("div",{className:"popup-menu"},r.a.createElement("div",{id:"mySidenav",className:"popup-menu__container"},r.a.createElement("div",{className:"popup-menu__sidenav"},r.a.createElement("button",{className:"popup-menu__closebtn",type:"button",onClick:y},"\xd7"),r.a.createElement(l.c,{exact:!0,className:O,to:"/"},"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"),r.a.createElement(l.c,{exact:!0,className:O,to:"/movies"},"\u0424\u0438\u043b\u044c\u043c\u044b"),r.a.createElement(l.c,{className:O,to:"/saved-movies"},"\u0421\u043e\u0445\u0440\u0430\u043d\u0451\u043d\u043d\u044b\u0435 \u0444\u0438\u043b\u044c\u043c\u044b"),r.a.createElement(l.c,{className:"popup-menu__navlink popup-menu__navlink_account",to:"/profile"},"\u0410\u043a\u043a\u0430\u0443\u043d\u0442",r.a.createElement("div",{className:"popup-menu__account-icon"})))),r.a.createElement("button",{className:"popup-menu__openbtn",type:"button",onClick:I}))},C=function(e){var t=e.isActive;return"header-movies__films".concat(t?"header-movies__films_active":"")};var L=function(){return r.a.createElement("header",{className:"header-movies"},r.a.createElement(l.b,{className:"header-movies__logo-link",to:"/"},r.a.createElement("img",{className:"header-movies__logo",src:b.a,alt:"\u041b\u043e\u0433\u043e"})),r.a.createElement("div",{className:"header-movies__container"},r.a.createElement(l.c,{to:"/movies",className:C},"\u0424\u0438\u043b\u044c\u043c\u044b"),r.a.createElement(l.c,{to:"/saved-movies",className:C},"\u0421\u043e\u0445\u0440\u0430\u043d\u0451\u043d\u043d\u044b\u0435 \u0444\u0438\u043b\u044c\u043c\u044b")),r.a.createElement(l.b,{to:"/profile",className:"header-movies__account-btn"},"\u0410\u043a\u043a\u0430\u0443\u043d\u0442",r.a.createElement("div",{className:"header-movies__account-icon"})),r.a.createElement("div",{className:"header-movies__sidenav"},r.a.createElement(w,null)))},x=a(23),R=a.n(x);a(51),a(52);var M=function(e){var t=e.handleShortFilms,a=e.shortMovies;return e.isValid,r.a.createElement("label",{className:"switch"},r.a.createElement("input",{type:"checkbox",onChange:t,checked:!!a}),r.a.createElement("span",{className:"slider round"}))};var T=function(e){var t=e.filter,a=e.handleShortFilms,c=e.shortMovies,o=Object(n.useState)(localStorage.getItem("search-value")||""),l=Object(s.a)(o,2),m=l[0],u=l[1],_=Object(n.useState)(localStorage.getItem("saved-search-value")||""),d=Object(s.a)(_,2),f=d[0],h=d[1],v=Object(n.useState)(!1),p=Object(s.a)(v,2),g=p[0],E=p[1],b=Object(i.h)();return r.a.createElement("section",{className:"search-form"},r.a.createElement("div",{className:"search-form__container"},r.a.createElement("img",{className:"search-form__loupe",src:R.a,alt:"\u041b\u0443\u043f\u0430"}),r.a.createElement("form",{noValidate:!0,className:"search-form__form",onSubmit:"/movies"===b.pathname?function(e){e.preventDefault(),localStorage.removeItem("search-movies"),u(m),t(m)}:function(e){e.preventDefault(),localStorage.removeItem("saved-search-value"),h(f),t(f)}},r.a.createElement("input",{className:"search-form__input",type:"search",placeholder:"\u0424\u0438\u043b\u044c\u043c",minLength:"3",onChange:function(e){E(e.target.validity.valid),"/movies"===b.pathname?u(e.target.value):h(e.target.value)},value:"/movies"===b.pathname?m:f}),r.a.createElement("button",{className:g?"search-form__submit-btn":"search-form__submit-btn search-form__submit-btn_disabled",type:"submit",disabled:!g},"\u041d\u0430\u0439\u0442\u0438")),r.a.createElement("div",{className:"search-form__toggle-switch"},r.a.createElement(M,{handleShortFilms:a,shortMovies:c}),r.a.createElement("span",{className:"search-form__shot-movie"},"\u041a\u043e\u0440\u043e\u0442\u043a\u043e\u043c\u0435\u0442\u0440\u0430\u0436\u043a\u0438"))),r.a.createElement("div",{className:"search-form__border-bottom"}))},z=(a(53),a(54),function(e){var t=Math.floor(e/60),a=e%60;return t?"".concat(t,"\u0447 ").concat(a,"\u043c"):"".concat(a,"\u043c")});var A=function(e){var t=e.movie,a=e.onCardLike,n=e.onCardDelete,c=e.isSaved,o=Object(i.h)();function l(){n(t)}return r.a.createElement("article",{className:"movies-card"},r.a.createElement("a",{className:"movies-card__trailerLink",href:t.trailerLink,target:"_blank",rel:"noopener noreferrer"},r.a.createElement("img",{className:"movies-card__img",src:"/movies"===o.pathname?"https://api.nomoreparties.co".concat(t.image.url):t.image,alt:t.nameRU})),r.a.createElement("div",{className:"movies-card__container"},r.a.createElement("h2",{className:"movies-card__title"},t.nameRU),r.a.createElement("button",{type:"button",className:"/movies"===o.pathname?c?"movies-card__button movies-card__button_like-active":"movies-card__button movies-card__button_like-disable":"movies-card__button movies-card__button-delete",onClick:"/movies"===o.pathname?c?l:function(){a(t)}:l})),r.a.createElement("p",{className:"movies-card__duration"},z(t.duration)))};var F=function(e){var t=e.movie,a=e.onCardLike,c=e.onCardDelete,o=e.savedMovies,l=void 0===o?[]:o,m=Object(n.useState)(window.innerWidth),u=Object(s.a)(m,2),_=u[0],d=u[1],f=Object(n.useState)(0),h=Object(s.a)(f,2),v=h[0],p=h[1],g=Object(i.h)();return Object(n.useEffect)(function(){var e=function(){setTimeout(function(){return d(window.innerWidth)},500)};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}},[]),Object(n.useEffect)(function(){p(_>=990?12:6)},[_]),r.a.createElement("section",{className:"movies-card-list"},r.a.createElement("div",{className:"movies-card-list__elements"},t.slice(0,v).map(function(e){return r.a.createElement(A,{key:"/movies"===g.pathname?e.id:e._id,movie:e,onCardDelete:c,onCardLike:a,isSaved:!!l.find(function(t){return t.movieId===e.id||t.movieId===e.movieId})})})),t.length>0?r.a.createElement("button",{className:t.length>v?"movies-card-list__more-btn":"movies-card-list__more-btn_hidden",type:"button",onClick:function(){console.log(v),p(_>=990?v+12:v+6)}},"\u0415\u0449\u0435"):r.a.createElement("p",{className:"movies-card-list__message"},"\u041d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e"))},J=a(13),P=a(14),B=new(function(){function e(t){var a=t.url;Object(J.a)(this,e),this._url=a}return Object(P.a)(e,[{key:"_checkResult",value:function(e){return e.ok?e.json():Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(e.status))}},{key:"getMovies",value:function(){var e=this;return fetch("".concat(this._url),{method:"GET",headers:{"Content-Type":"application/json"}}).then(function(t){return e._checkResult(t)})}}]),e}())({url:"https://api.nomoreparties.co/beatfilm-movies"}),U=new(function(){function e(t){var a=t.url;Object(J.a)(this,e),this._url=a}return Object(P.a)(e,[{key:"_checkResponse",value:function(e){return e.ok?e.json():Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(e.status))}},{key:"getUserInfo",value:function(){var e=this;return fetch("".concat(this._url,"/users/me"),{method:"GET",headers:{authorization:"Bearer ".concat(localStorage.getItem("jwt")),"Content-Type":"application/json"}}).then(function(t){return e._checkResponse(t)})}},{key:"patchUserInfo",value:function(e){var t=this;return fetch("".concat(this._url,"/users/me"),{method:"PATCH",headers:{authorization:"Bearer ".concat(localStorage.getItem("jwt")),"Content-Type":"application/json"},body:JSON.stringify({name:e.name,email:e.email})}).then(function(e){return t._checkResponse(e)})}},{key:"getSavedMovies",value:function(){var e=this;return fetch("".concat(this._url,"/movies"),{method:"GET",headers:{authorization:"Bearer ".concat(localStorage.getItem("jwt")),"Content-Type":"application/json"}}).then(function(t){return e._checkResponse(t)})}},{key:"saveMovie",value:function(e){var t=this;return console.log(e),fetch("".concat(this._url,"/movies"),{method:"POST",headers:{authorization:"Bearer ".concat(localStorage.getItem("jwt")),"Content-Type":"application/json"},body:JSON.stringify({country:e.country,director:e.director,duration:e.duration,year:e.year,description:e.description,image:"https://api.nomoreparties.co".concat(e.image.url),trailerLink:e.trailerLink,thumbnail:"https://api.nomoreparties.co".concat(e.image.formats.thumbnail.url),movieId:e.id,nameRU:e.nameRU,nameEN:e.nameEN})}).then(function(e){return t._checkResponse(e)})}},{key:"deleteMovie",value:function(e){var t=this;return fetch("".concat(this._url,"/movies/").concat(e),{method:"DELETE",headers:{authorization:"Bearer ".concat(localStorage.getItem("jwt")),"Content-Type":"application/json"}}).then(function(e){return t._checkResponse(e)})}},{key:"register",value:function(e,t,a){var n=this;return fetch("".concat(this._url,"/signup"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({name:e,email:t,password:a})}).then(function(e){return n._checkResponse(e)})}},{key:"authorize",value:function(e,t){var a=this;return fetch("".concat(this._url,"/signin"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({password:t,email:e})}).then(function(e){return a._checkResponse(e)})}}]),e}())({url:"https://api.movies-Hohlov.nomoredomains.club"}),D=(a(55),function(){return r.a.createElement("div",{className:"preloader"},r.a.createElement("div",{className:"preloader__container"},r.a.createElement("span",{className:"preloader__round"})))});var q=function(e){var t=e.loggedIn,a=Object(n.useState)([""]),c=Object(s.a)(a,2),o=c[0],l=c[1],i=Object(n.useState)([]),u=Object(s.a)(i,2),_=u[0],d=u[1],f=Object(n.useState)(!0),h=Object(s.a)(f,2),v=h[0],p=h[1],g=Object(n.useState)(JSON.parse(localStorage.getItem("movies-short"))),E=Object(s.a)(g,2),b=E[0],N=E[1],S=Object(n.useState)([]),O=Object(s.a)(S,2),I=O[0],y=O[1],w=Object(n.useContext)(m);function C(e){var t=function(e,t){if(console.log(e),"true"===localStorage.getItem("movies-short")){var a=e.filter(function(e){return e.duration<40});return a.filter(function(e){return e.nameRU.toLowerCase().includes(t.toLowerCase())})}return e.filter(function(e){return e.nameRU.toLowerCase().includes(t.toLowerCase())})}(_,e);return localStorage.setItem("search-movies",JSON.stringify(t)),localStorage.setItem("search-value",e),l(t)}return Object(n.useEffect)(function(){t&&U.getSavedMovies().then(function(e){y(e.filter(function(e){return e.owner===w._id}))}).catch(function(e){console.log(e)})},[t,w]),Object(n.useEffect)(function(){t?(localStorage.getItem("search-movies")&&l(JSON.parse(localStorage.getItem("search-movies"))),B.getMovies().then(function(e){p(!0),d(e)}).catch(function(e){console.log(e)}).finally(function(){return p(!1)})):B.getMovies().then(function(e){d(e)}).catch(function(e){console.log(e)})},[t,w]),r.a.createElement("div",{className:"movies"},r.a.createElement(L,null),r.a.createElement("main",{className:"movies__content"},r.a.createElement(T,{filter:C,handleShortFilms:function(){N(!b),localStorage.setItem("movies-short",!b),C(localStorage.getItem("search-value"))},shortMovies:b}),v?r.a.createElement(D,null):"",r.a.createElement(F,{movie:localStorage.getItem("search-movies")?o:_,onCardLike:function(e){console.log(e),U.saveMovie(e).then(function(e){console.log(e),y([e].concat(Object(k.a)(I)))}).catch(function(e){console.log(e)})},onCardDelete:function(e){var t=I.find(function(t){return t.movieId===e.id||t.movieId===e.movieId});U.deleteMovie(t._id).then(function(){var t=I.filter(function(t){return e.id!==t.movieId&&e.movieId!==t.movieId});y(t)})},savedMovies:I})),r.a.createElement(j,null))};a(56);var $=function(e){var t=e.loggedIn,a=Object(n.useContext)(m),c=Object(n.useState)([]),o=Object(s.a)(c,2),l=o[0],i=o[1],u=Object(n.useState)(!0),_=Object(s.a)(u,2),d=_[0],f=_[1],h=Object(n.useState)(JSON.parse(localStorage.getItem("saved-movies-short"))),v=Object(s.a)(h,2),p=v[0],g=v[1],E=Object(n.useState)([]),b=Object(s.a)(E,2),N=b[0],S=b[1];function k(e){var t=function(e,t){if("true"===localStorage.getItem("saved-movies-short")){var a=e.filter(function(e){return e.duration<40});return a.filter(function(e){return e.nameRU.toLowerCase().includes(t.toLowerCase())})}return e.filter(function(e){return e.nameRU.toLowerCase().includes(t.toLowerCase())})}(N,e);return localStorage.setItem("search-saved-movies",JSON.stringify(t)),localStorage.setItem("saved-search-value",e),i(t)}return Object(n.useEffect)(function(){t&&(localStorage.getItem("search-saved-movies")&&i(JSON.parse(localStorage.getItem("search-saved-movies"))),U.getSavedMovies().then(function(e){var t=e.filter(function(e){return e.owner===a._id});S(t),f(!0)}).catch(function(e){console.log(e)}).finally(function(){return f(!1)}))},[t,a]),r.a.createElement("div",{className:"saved-movies"},r.a.createElement(L,null),r.a.createElement("main",{className:"saved-movies__content"},r.a.createElement(T,{filter:k,handleShortFilms:function(){g(!p),localStorage.setItem("saved-movies-short",!p),k(localStorage.getItem("saved-search-value"))},shortMovies:p}),d?r.a.createElement(D,null):"",r.a.createElement(F,{movie:localStorage.getItem("search-saved-movies")?l:N,onCardDelete:function(e){var t=N.find(function(t){return t.movieId===e.id||t.movieId===e.movieId});U.deleteMovie(t._id).then(function(){var t=N.filter(function(t){return e.id!==t.movieId&&e.movieId!==t.movieId});S(t)})}})),r.a.createElement(j,null))};a(57);var G=function(e){var t=e.onLogOut,a=Object(n.useContext)(m),c=Object(n.useState)(a.name),o=Object(s.a)(c,2),i=o[0],u=o[1],_=Object(n.useState)(a.email),d=Object(s.a)(_,2),f=d[0],h=d[1];return Object(n.useEffect)(function(){u(a.name),h(a.email)},[a]),r.a.createElement("div",{className:"profile"},r.a.createElement(L,null),r.a.createElement("main",{className:"profile__content"},r.a.createElement("h1",{className:"profile__title"},"\u041f\u0440\u0438\u0432\u0435\u0442, ",i,"!"),r.a.createElement("form",{className:"profile__form",onSubmit:function(e){e.preventDefault(),U.patchUserInfo({name:i,email:f}).catch(function(e){console.log("\u041d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435 \u043d\u0430 \u0441\u0435\u0440\u0432\u0435\u0440 ".concat(e))})}},r.a.createElement("div",{className:"profile__container-name"},r.a.createElement("p",{className:"profile__name"},"\u0418\u043c\u044f"),r.a.createElement("input",{className:"profile__input",onChange:function(e){u(e.target.value)},value:i,minLength:"3",maxLength:"35",required:!0})),r.a.createElement("div",{className:"profile__container-email"},r.a.createElement("p",{className:"profile__name"},"E-mail"),r.a.createElement("input",{className:"profile__input",minLength:"3",maxLength:"35",required:!0,onChange:function(e){h(e.target.value)},value:f})),r.a.createElement("button",{className:"profile__button",type:"submit"},"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c")),r.a.createElement(l.b,{className:"profile__button profile__button_signout",to:"/",onClick:function(){localStorage.clear(),t()}},"\u0412\u044b\u0439\u0442\u0438 \u0438\u0437 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430")))},V=(a(58),a(15));var H=function(e){var t=e.handleRegister,a=Object(V.a)({mode:"onChange"}),n=a.register,c=a.handleSubmit,o=a.formState,s=o.errors,i=o.isValid,m=a.reset;return r.a.createElement("main",{className:"register"},r.a.createElement("header",{className:"register__header"},r.a.createElement(l.b,{className:"register__header-link",to:"/"},r.a.createElement("img",{className:"register__header-logo",src:b.a,alt:"\u041b\u043e\u0433\u043e"})),r.a.createElement("h1",{className:"register__header-title"},"\u0414\u043e\u0431\u0440\u043e \u043f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c!")),r.a.createElement("fieldset",{className:"register__fieldset"},r.a.createElement("form",{className:"register__form",noValidate:!0,onSubmit:c(function(e){t(e.name,e.email,e.password),m()})},r.a.createElement("h3",{className:"register__form-title"},"\u0418\u043c\u044f"),r.a.createElement("input",Object.assign({className:"register__form-input",type:"text"},n("name",{required:"\u041f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f",minLength:{value:3,message:"\u041c\u0438\u043d\u0438\u043c\u0443\u043c 3 \u0441\u0438\u043c\u0432\u043e\u043b\u0430"},pattern:{value:/^[a-zA-Z][a-zA-Z0-9-_]{2,35}$/,message:"\u0422\u043e\u043b\u044c\u043a\u043e \u043b\u0430\u0442\u0438\u043d\u0441\u043a\u0438\u0435 \u0431\u0443\u043a\u0432\u044b \u0438 \u0446\u0438\u0444\u0440\u044b, \u043d\u0435 \u0431\u043e\u043b\u0435\u0435 35 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"}}))),r.a.createElement("span",{className:"register__input-error"},s.name&&s.name.message),r.a.createElement("h3",{className:"register__form-title"},"E-mail"),r.a.createElement("input",Object.assign({className:"register__form-input",type:"email",minLength:"3",maxLength:"35",name:"email"},n("email",{required:"\u041f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f",pattern:{value:/^[-\w.]+@([A-z0-9][-A-z0-9]+\.)+[A-z]{2,4}$/,message:'\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e email, \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440 "example@ex.com"'}}))),r.a.createElement("span",{className:"register__input-error"},s.email&&s.email.message),r.a.createElement("h3",{className:"register__form-title"},"\u041f\u0430\u0440\u043e\u043b\u044c"),r.a.createElement("input",Object.assign({className:"register__form-input",type:"password",name:"password"},n("password",{required:"\u041f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f",pattern:{value:/(?=^.{8,}$)((?=.*\d)|(?=.*\W+))(?![.\n])(?=.*[A-Z])(?=.*[a-z]).*$/,message:"\u041f\u0440\u0438\u0434\u0443\u043c\u0430\u0439\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c. \u0414\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0436\u0435\u0440\u0436\u0430\u0442\u044c c\u0442\u0440\u043e\u0447\u043d\u044b\u0435 \u0438 \u043f\u0440\u043e\u043f\u0438\u0441\u043d\u044b\u0435 \u043b\u0430\u0442\u0438\u043d\u0441\u043a\u0438\u0435 \u0431\u0443\u043a\u0432\u044b, \u0446\u0438\u0444\u0440\u044b, \u0441\u043f\u0435\u0446\u0441\u0438\u043c\u0432\u043e\u043b\u044b. \u041c\u0438\u043d\u0438\u043c\u0443\u043c 8 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"}}))),r.a.createElement("span",{className:"register__input-error"},s.password&&s.password.message),r.a.createElement("button",{className:"register__button",type:"submit",disabled:!i},"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"),r.a.createElement("div",{className:"register__login-container"},r.a.createElement("span",{className:"register__login-message"},"\u0423\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b?"),r.a.createElement(l.b,{className:"register__login-button",to:"/signin"},"\u0412\u043e\u0439\u0442\u0438")))))};a(59);var W=function(e){var t=e.handleLogin,a=Object(V.a)({mode:"onChange"}),n=a.register,c=a.handleSubmit,o=a.formState,s=o.errors,i=o.isValid,m=a.reset;return r.a.createElement("main",{className:"login"},r.a.createElement("header",{className:"login__header"},r.a.createElement(l.b,{className:"login__header-link",to:"/"},r.a.createElement("img",{className:"login__header-logo",src:b.a,alt:"\u041b\u043e\u0433\u043e"})),r.a.createElement("h1",{className:"login__header-title"},"\u0420\u0430\u0434\u044b \u0432\u0438\u0434\u0435\u0442\u044c!")),r.a.createElement("fieldset",{className:"login__fieldset"},r.a.createElement("form",{className:"login__form",noValidate:!0,onSubmit:c(function(e){t(e.email,e.password),m()})},r.a.createElement("h3",{className:"login__form-title"},"E-mail"),r.a.createElement("input",Object.assign({className:"register__form-input",type:"email",minLength:"3",maxLength:"35",name:"email"},n("email",{required:"\u041f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f",pattern:{value:/^[-\w.]+@([A-z0-9][-A-z0-9]+\.)+[A-z]{2,4}$/,message:'\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e email, \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440 "example@ex.com"'}}))),r.a.createElement("span",{className:"login__input-error"},s.email&&s.email.message),r.a.createElement("h3",{className:"login__form-title"},"\u041f\u0430\u0440\u043e\u043b\u044c"),r.a.createElement("input",Object.assign({className:"register__form-input",type:"password",name:"password"},n("password",{required:"\u041f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f",pattern:{value:/(?=^.{8,}$)((?=.*\d)|(?=.*\W+))(?![.\n])(?=.*[A-Z])(?=.*[a-z]).*$/,message:"\u041f\u0430\u0440\u043e\u043b\u044c \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0436\u0435\u0440\u0436\u0430\u0442\u044c c\u0442\u0440\u043e\u0447\u043d\u044b\u0435 \u0438 \u043f\u0440\u043e\u043f\u0438\u0441\u043d\u044b\u0435 \u043b\u0430\u0442\u0438\u043d\u0441\u043a\u0438\u0435 \u0431\u0443\u043a\u0432\u044b, \u0446\u0438\u0444\u0440\u044b, \u0441\u043f\u0435\u0446\u0441\u0438\u043c\u0432\u043e\u043b\u044b. \u041c\u0438\u043d\u0438\u043c\u0443\u043c 8 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"}}))),r.a.createElement("span",{className:"login__input-error"},s.password&&s.password.message),r.a.createElement("button",{className:"login__button",type:"submit",disabled:!i},"\u0412\u043e\u0439\u0442\u0438"),r.a.createElement("div",{className:"login__login-container"},r.a.createElement("span",{className:"login__login-message"},"\u0415\u0449\u0451 \u043d\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b?"),r.a.createElement(l.b,{className:"login__login-link",to:"/signup"},"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f")))))};a(60);var Z=function(){return r.a.createElement("main",{className:"PageNotFound"},r.a.createElement("h1",{className:"PageNotFound__title"},"404"),r.a.createElement("h2",{className:"PageNotFound__subtitle"},"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430"),r.a.createElement(l.b,{className:"PageNotFound__back",to:"/"},"\u041d\u0430\u0437\u0430\u0434"))},K=a(11),Q=function(e){var t=e.component,a=Object(K.a)(e,["component"]);return r.a.createElement(i.b,null,function(){return!0===a.loggedIn?r.a.createElement(t,a):r.a.createElement(i.a,{to:"./signin"})})};var X=function(){var e=Object(n.useState)(!1),t=Object(s.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)({}),u=Object(s.a)(o,2),_=u[0],d=u[1],f=Object(n.useState)(!1),h=Object(s.a)(f,2),v=h[0],p=h[1],g=Object(i.g)();function E(e,t){return U.authorize(e,t).then(function(e){console.log(e),e.token&&(localStorage.setItem("jwt",e.token),c(!0),localStorage.setItem("login",!0),g.push("/movies"),console.log(a),window.location.reload())}).catch(function(e){console.log(e)})}return Object(n.useEffect)(function(){localStorage.getItem("jwt")?U.getUserInfo().then(function(e){c(!0),d(e.data),localStorage.setItem("user",e.data.email)}).catch(function(e){console.log(e)}).finally(function(){p(!0)}):p(!0)},[localStorage.getItem("jwt")]),v?r.a.createElement(m.Provider,{value:_},r.a.createElement("div",{className:"app"},r.a.createElement(l.a,null,r.a.createElement(i.d,null,r.a.createElement(i.b,{exact:!0,path:"/"},r.a.createElement(S,null)),r.a.createElement(Q,{path:"/movies",exact:!0,loggedIn:a,component:q}),r.a.createElement(Q,{path:"/saved-movies",exact:!0,loggedIn:a,component:$}),r.a.createElement(Q,{path:"/profile",exact:!0,loggedIn:a,component:G,onLogOut:function(){return c(!1)}}),r.a.createElement(i.b,{path:"/signin"},r.a.createElement(W,{handleLogin:E})),r.a.createElement(i.b,{path:"/signup"},r.a.createElement(H,{handleRegister:function(e,t,a){return U.register(e,t,a).then(function(){localStorage.clear(),E(t,a)}).catch(function(e){console.log(e)})}})),r.a.createElement(i.b,{path:"*"},r.a.createElement(Z,null)))))):r.a.createElement(r.a.Fragment,null,r.a.createElement(D,null),";")},Y=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,62)).then(function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,o=t.getTTFB;a(e),n(e),r(e),c(e),o(e)})};o.a.createRoot(document.getElementById("root")).render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(l.a,{basename:"/"},r.a.createElement(X,null)))),Y()}],[[24,1,2]]]);
//# sourceMappingURL=main.4003fe8f.chunk.js.map